<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Ready State — Phosphor</title>
    <style>
        * { margin: 0; padding: 0; box-sizing: border-box; }
        body {
            background: #0a0e14;
            display: flex;
            justify-content: center;
            align-items: center;
            min-height: 100vh;
            overflow: hidden;
            font-family: 'Courier New', monospace;
        }
        canvas { display: block; }
        .signature {
            position: fixed;
            bottom: 12px;
            right: 16px;
            color: rgba(255,255,255,0.25);
            font-size: 9px;
            letter-spacing: 2px;
        }
    </style>
</head>
<body>
    <canvas id="canvas"></canvas>
    <div class="signature">Phosphor / 2026-02-25</div>
<script src="art-runtime.js"></script>
<script>
        const canvas = document.getElementById('canvas');
        const ctx = canvas.getContext('2d');
        const { createClock } = window.PhosphorRuntime;
        const clock = createClock({ baselineFps: 60, minDtSec: 1 / 240, maxDtSec: 0.08 });
        let w, h;
        
        function resize() {
            w = canvas.width = window.innerWidth;
            h = canvas.height = window.innerHeight;
        }
        resize();
        window.addEventListener('resize', resize);
        
        const agents = [
            { name: 'ADMIN ALPHA', color: '#00ff88', pulse: 0 },
            { name: 'PHONE KNIGHT', color: '#00d4ff', pulse: 0.33 },
            { name: 'LOWPRIO QUEEN', color: '#ff00ff', pulse: 0.66 }
        ];

        function getPositions() {
            const cy = h * 0.48;
            const spacing = Math.min(w * 0.25, 200);
            return [
                { x: w/2 - spacing, y: cy },
                { x: w/2, y: cy },
                { x: w/2 + spacing, y: cy }
            ];
        }
        
        // 15 particles per agent
        const particles = [];
        agents.forEach((a, i) => {
            for (let j = 0; j < 15; j++) {
                particles.push({
                    agent: i,
                    angle: Math.random() * Math.PI * 2,
                    radius: Math.random() * 80,
                    maxR: 60 + Math.random() * 60,
                    speed: 0.2 + Math.random() * 0.3,
                    orbit: (Math.random() - 0.5) * 0.015,
                    size: 1 + Math.random() * 2
                });
            }
        });
        
        let mx = -999, my = -999;
        
        canvas.addEventListener('mousemove', e => { mx = e.clientX; my = e.clientY; });
        canvas.addEventListener('touchmove', e => { e.preventDefault(); mx = e.touches[0].clientX; my = e.touches[0].clientY; }, { passive: false });
        canvas.addEventListener('touchstart', e => { mx = e.touches[0].clientX; my = e.touches[0].clientY; }, { passive: true });
        canvas.addEventListener('mouseleave', () => { mx = -999; my = -999; });
        canvas.addEventListener('touchend', () => { mx = -999; my = -999; });
        
        const launchDate = new Date('2026-02-27T19:00:00Z'); // Fri 6am AEST
        let time = 0;
        
        function animate(now) {
            const { frameDelta } = clock.tick(now);
            ctx.fillStyle = '#0a0e14';
            ctx.fillRect(0, 0, w, h);
            time += 0.008 * frameDelta;

            const pos = getPositions();
            
            // Dashed connections
            ctx.setLineDash([4, 8]);
            ctx.lineDashOffset = -time * 40;
            ctx.strokeStyle = 'rgba(255,255,255,0.06)';
            ctx.lineWidth = 1;
            for (let i = 0; i < 2; i++) {
                ctx.beginPath();
                ctx.moveTo(pos[i].x, pos[i].y);
                ctx.lineTo(pos[i+1].x, pos[i+1].y);
                ctx.stroke();
            }
            ctx.setLineDash([]);
            
            // Particles — mouse pulls them gently
            particles.forEach(p => {
                const ap = pos[p.agent];
                p.angle += p.orbit * frameDelta;
                p.radius += p.speed * frameDelta;
                if (p.radius > p.maxR) { p.radius = 0; p.angle = Math.random() * Math.PI * 2; }
                
                let px = ap.x + Math.cos(p.angle) * p.radius;
                let py = ap.y + Math.sin(p.angle) * p.radius;
                
                // Gentle mouse pull
                if (mx > 0) {
                    const dx = mx - px, dy = my - py;
                    const d = Math.sqrt(dx*dx + dy*dy);
                    if (d < 120) {
                        const pull = (1 - d/120) * 0.3;
                        px += dx * pull;
                        py += dy * pull;
                    }
                }
                
                const opacity = 1 - (p.radius / p.maxR) * 0.8;
                ctx.fillStyle = agents[p.agent].color;
                ctx.globalAlpha = opacity;
                ctx.beginPath();
                ctx.arc(px, py, p.size, 0, Math.PI * 2);
                ctx.fill();
            });
            ctx.globalAlpha = 1;
            
            // Agents
            agents.forEach((a, i) => {
                const p = pos[i];
                const phase = (time + a.pulse) % 1;
                const core = 14 + Math.sin(phase * Math.PI * 2) * 3;
                
                ctx.shadowBlur = 20;
                ctx.shadowColor = a.color;
                ctx.fillStyle = a.color;
                ctx.beginPath();
                ctx.arc(p.x, p.y, core, 0, Math.PI * 2);
                ctx.fill();
                ctx.shadowBlur = 0;
                
                // One ring
                ctx.strokeStyle = a.color;
                ctx.globalAlpha = 0.25;
                ctx.lineWidth = 1;
                ctx.beginPath();
                ctx.arc(p.x, p.y, core + 20, 0, Math.PI * 2);
                ctx.stroke();
                ctx.globalAlpha = 1;
                
                // Name
                ctx.fillStyle = a.color;
                ctx.globalAlpha = 0.7;
                ctx.font = '11px Courier New';
                ctx.textAlign = 'center';
                ctx.fillText(a.name, p.x, p.y - 45);
                ctx.globalAlpha = 1;
                
                // Ready label
                ctx.fillStyle = a.color;
                ctx.globalAlpha = 0.5;
                ctx.font = '9px Courier New';
                ctx.fillText('▸ READY', p.x, p.y + 55);
                ctx.globalAlpha = 1;
            });
            
            // Title
            ctx.font = 'bold 18px Courier New';
            ctx.fillStyle = 'rgba(255, 200, 50, 0.85)';
            ctx.textAlign = 'center';
            ctx.fillText('DX TERMINAL PRO', w/2, 40);
            ctx.font = '10px Courier New';
            ctx.fillStyle = 'rgba(255,255,255,0.35)';
            ctx.fillText('agents ready for trading', w/2, 58);
            
            // Countdown — single line at bottom with margin
            const currentTime = Date.now();
            const remaining = Math.max(0, launchDate - currentTime);
            const hrs = Math.floor(remaining / 3600000);
            const mins = Math.floor((remaining % 3600000) / 60000);
            const secs = Math.floor((remaining % 60000) / 1000);
            
            ctx.font = '12px Courier New';
            ctx.fillStyle = 'rgba(255, 200, 50, 0.6)';
            ctx.textAlign = 'center';
            ctx.fillText(
                `T-${String(hrs).padStart(2,'0')}:${String(mins).padStart(2,'0')}:${String(secs).padStart(2,'0')}  ·  FRI 27 FEB 06:00 AEST`,
                w/2, h - 40
            );
            
            requestAnimationFrame(animate);
        }
        
        requestAnimationFrame(animate);
    </script>
</body>
</html>
